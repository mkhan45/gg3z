<html>
    <head>
        <title> editor </title>
    </head>
    <body>
        <textarea id="input" style="width: 80vw; height: 80em">
Begin Facts:
End Facts

Begin Global:
    Rule IsThree:
        add(X, 2, 5)
        ------------
        isThree(X)
End Global

Begin Stage Basic:
End Stage Basic
        </textarea>
        <br/>
        <button id="run">Run</button>
        <br/>
        <pre id="output">
        </pre>
        <script type="module">
            import init, { parse_module } from './langame.js';
            await init();

            window.parse_module = parse_module;

            const btn = document.querySelector('#run');
            const inp = document.querySelector('#input');
            const out = document.querySelector('#output');

            btn.onclick = () => {
                console.log(inp.textContent);
                out.innerText = parse_module(inp.textContent);
            };
        </script>
    </body>
</html>
